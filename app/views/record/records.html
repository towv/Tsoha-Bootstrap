{% extends "base.html" %}
{% block content %}
{% if user_logged_in %}
<p>
    <a href="{{base_path}}/records/my" class="btn btn-success">OMAT ENKAT</a>
</p>
{% endif %}

<form method="post" action="{{base_path}}/records">
    <select name ='team' class="selectpicker" data-style="btn-primary">
        <optgroup label="Kaikki">
            <option value='all'>Näytä kaikki</option>
        </optgroup>
        <optgroup label="Joukkueet">
            {% for t in teams %}
            <option value="{{t.id}}">{{t.name}}</option>
            {% endfor %}
    </select>

    <select name='course' class="selectpicker" data-style="btn-info">
        <optgroup label="Kaikki">
            <option value='all'>Näytä kaikki</option>
        </optgroup>
        <optgroup label="Radat">
            {% for c in courses %}
            <option value="{{c.id}}">{{c.name}}</option>
            {% endfor %}
        </optgroup>
    </select>

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Näytä</button>
    </div>
</form>

<h1>Ennätykset</h1>


<table class="table table-striped table-bordered">
    <thead>
        <tr>
            <th>Rata</th>
            <th>Golffari</th>
            <th>Päivämäärä</th>
            <th>Tulos</th>
            <th>Lisäyspäivä</th>
        </tr>
    </thead>

    <tbody>
        <!-- Listataan ennätykset tähän -->
        {% for r in records %}
        <tr>
            <td><a href="{{base_path}}/courses/{{r.course}}">{{r.coursename}}</a></td>
            <td>{{r.golfername}}</td>
            <td>{{r.date}}</td>
            <td><label class="label label-success">{{r.score}}</label></td>
            <td>{{r.added}}</td>
        </tr>
        {% endfor %}
    </tbody>

</table>
{% endblock %}